<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>my-client</title>
</head>

<body>
    <h3>点击按钮获取服务器信息</h3>
    <button id="btn">获取信息</button>

    <script>
        const btn = document.getElementById("btn")
        // 点击按钮发送请求
        btn.onclick = () => {
            /* 
                AJAX
                    - 通过js向服务器发送请求来加载数据
                    - 异步的js和xml
                    - xml是早期AJAX使用的数据格式（现不用）
                        <student>
                            <name>孙悟空</name>    
                        </student>
                    - 目前数据格式使用json
                        { "name": "孙悟空" }
                    - 可选方案
                        1、XMLHTTPrequest (xhr)（基本不用）
                        2、Fetch
                        3、Axios（推荐）
                CORS 跨域资源共享
                    - 完整域名（协议、域名、端口号）不同的网站之间发送的请求成为跨域请求
                    - 为了服务器安全，浏览器默认阻止跨域请求
                    - 解决方案
                        - 服务器中配置允许跨域的头
                    
            */

            // 创建xhr对象，xhr对象表示请求信息
            const xhr = new XMLHttpRequest()
            // xhr内容加载完后执行
            xhr.onload = function(){
                // xhr.response 响应信息
                console.log(xhr.response)
            }
            // 设置请求信息
            xhr.open("GET", "http://localhost:3000/students")
            // 发送请求
            xhr.send()
        }
    </script>
</body>

</html>